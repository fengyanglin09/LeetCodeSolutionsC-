## 723. Candy Crush

<pre>
</pre>

----------------------------------------------

## Solutions
### Solution1
```c++
/*
T(n) = O(m*n)
S(n) = O(m*n)
*/

class Solution {
public:
    vector<vector<int>> candyCrush(vector<vector<int>>& board) {
        while(find(board));
        return board;
    }
private:
    bool find(vector<vector<int>>& board){
        int m = board.size();
        int n = board[0].size();
        vector<vector<int>> marks = board;
        
        bool changes = false;
        
        ///find horizontal
        for(int r = 0; r < m; r++){
            int c = 0;
            while(c < n){
                int start = c;
                int cur = board[r][start];
                if(cur == 0){
                    c++;
                    continue;
                }
                while(c<n && board[r][c] == cur){
                    c++;
                }
                int length = c - start;
                if(length >= 3){
                    changes = true;
                    for(int i = start; i < c; i++){
                        marks[r][i] = -1;
                    }
                }
            }
        }
        ///find vertical
        
        for(int c = 0; c < n; c++){
            int r = 0;
            while(r < m){
                int start = r;
                int cur = board[start][c];
                if(cur == 0){
                    r++;
                    continue;
                }
                while(r<m && board[r][c] == cur){
                    r++;
                }
                int length = r - start;
                if(length >= 3){
                    changes = true;
                    for(int i = start; i < r; i++){
                        marks[i][c] = -1;
                    }
                }
            }
        }
        
        if(!changes) {return false;}
        
        ///remove the marks
        for(int r = 0; r < m; r++){
            for(int c = 0; c < n; c++){
                if(marks[r][c] == -1){
                    int i = r;
                    while(i > 0){
                        board[i][c] = board[i-1][c];
                        i--;
                    }
                    board[i][c] = 0;
                }
            }
        }
        return changes;
    }
};

```
