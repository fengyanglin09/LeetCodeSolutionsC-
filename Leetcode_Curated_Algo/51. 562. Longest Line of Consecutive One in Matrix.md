## 562. Longest Line of Consecutive One in Matrix
<pre>
Given a 01 matrix M, find the longest line of consecutive one in the matrix. The line could be horizontal, vertical, diagonal or anti-diagonal.
Example:
Input:
[[0,1,1,0],
 [0,1,1,0],
 [0,0,0,1]]
Output: 3
Hint: The number of elements in the given matrix will not exceed 10,000.
</pre>

---------------------------------------------------------

## Solutions

### Solution2

---------------------------------------------------------
### Solution1
```c++
/*
Brute Force

T(n) = O(m*n)

*/

class Solution {
public:
    int longestLine(vector<vector<int>>& M) {
        if(M.empty()){return 0;}
        int res = 0;
        int m = M.size();
        int n = M[0].size();
        
        vector<vector<int>> dirc = {{1,1},{1,-1}};
        //horizontal
        for(int r = 0; r < m; r++){
            for(int c = 0; c < n; c++){
                if(M[r][c] == 1){
                    int tmp = 0;
                    while(c < n && M[r][c] == 1){
                        tmp++;
                        c++;
                    }
                    res = max(res, tmp);
                }
            }
        }
        //virtical
        for(int c = 0; c < n; c++){
            for(int r = 0; r < m; r++){
                if(M[r][c] == 1){
                    int tmp = 0;
                    while(r < m && M[r][c] == 1){
                        tmp++;
                        r++;
                    }
                    res = max(res, tmp);
                }
            }
        }
        //diagnals from above
        for(int c = 0; c < n; c++){
            //left
            int x = 0; int y = c;
            while(x >= 0 && x < m && y >= 0 && y < n){
                int tmp = 0;
                while((x >= 0 && x < m && y >= 0 && y < n)&& M[x][y] == 1){
                    tmp++;
                    x+=dirc[1][0];
                    y+=dirc[1][1];                    
                }
                res = max(res, tmp);
                x+=dirc[1][0];
                y+=dirc[1][1];
            }
            //right
            x = 0; y = c;
            while(x >= 0 && x < m && y >= 0 && y < n){
                int tmp = 0;
                while((x >= 0 && x < m && y >= 0 && y < n)&& M[x][y] == 1){
                    tmp++;
                    x+=dirc[0][0];
                    y+=dirc[0][1];                    
                }
                res = max(res, tmp);
                x+=dirc[0][0];
                y+=dirc[0][1];
            }            
            
        }
        
        //left and right side
        for(int r = 0; r < m; r++){
            //left
            int x = r; int y = 0;
            while(x >= 0 && x < m && y >= 0 && y < n){
                int tmp = 0;
                while((x >= 0 && x < m && y >= 0 && y < n)&& M[x][y] == 1){
                    tmp++;
                    x+=dirc[0][0];
                    y+=dirc[0][1];                    
                }
                res = max(res, tmp);
                x+=dirc[0][0];
                y+=dirc[0][1];
            }
            //right
            x = r; y = n-1;
            while(x >= 0 && x < m && y >= 0 && y < n){
                int tmp = 0;
                while((x >= 0 && x < m && y >= 0 && y < n)&& M[x][y] == 1){
                    tmp++;
                    x+=dirc[1][0];
                    y+=dirc[1][1];                    
                }
                res = max(res, tmp);
                x+=dirc[1][0];
                y+=dirc[1][1];
            }             
        }

        
        
        return res;
    }
};

```
